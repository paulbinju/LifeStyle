@{
    ViewBag.Title = "Home";
}

@*@Html.Partial("NewsTicker")*@

<!---Section --->
<section class="main-section" style="margin-top:250px;" >
    <div class="container sub-sections" id="option1">

        <div class="grid" id="divGrid" style="width:0; height:0;float:left;">
            <div class="grid-sizer"></div>


            @*<div class="grid-item" style="background:none;">
                    <img src=@Url.Content("~/Theme/main/variety/images/home-page-img1.jpg") style="background:none;" />
                </div>*@

            @{


                foreach (var item in ViewBag.HomeArticles)
                {


                    <div id="box16-@item.ArticleId" class="box16 effect2">

                        <div class="grid-item ">

                            @if (item.CoverImage != null && item.CoverImage != "")
                            {
                                <img src=@Url.Content(item.CoverImage) />
                            }
                            <div class="post @item.Description">
                                @item.CategoryName
                            </div>
                            <div class="box-content">


                                <div class="colorbox @item.Description ">
                                    <a href=@Url.Action("ArticleDetail","Home",new { ArticleId = @item.ArticleId, category = item.CategoryId}) >

                                        <h3 id="smalltitle-@item.ArticleId" class="title">
                                            @{
                                                string title = "";
                                                try
                                                {
                                                    title = @Convert.ToString(item.Title).Substring(0, 40) + "...";
                                                }
                                                catch (Exception ex)
                                                {
                                                    title = item.Title;
                                                }
                                            }

                                            @Html.Raw(title)
                                        </h3>

                                        <h3 id="fulltitle-@item.ArticleId" class="title ftitle" style="display:none;">
                                            @{
                                                string fullTitle = "";
                                                try
                                                {
                                                    fullTitle = @Convert.ToString(item.Title).Substring(0, 85) + "...";
                                                }
                                                catch (Exception ex)
                                                {
                                                    fullTitle = item.Title;
                                                }
                                            }
                                            @fullTitle<br />
                                            <span class="" id="firstLine-@item.ArticleId" style="display:none;">
                                                @{
                                                    string firstLine = "";
                                                    try
                                                    {
                                                        if (title.Length <= 40)
                                                        {
                                                            firstLine = @Convert.ToString(item.ArticleText).Substring(0, 100) + "...";
                                                        }
                                                        else
                                                        {
                                                            firstLine = @Convert.ToString(item.ArticleText).Substring(0, 50) + "...";
                                                        }


                                                    }
                                                    catch (Exception ex)
                                                    {
                                                        firstLine = item.ArticleText;
                                                    }
                                                }

                                                @Html.Raw(firstLine)
                                            </span>
                                        </h3>
                                    </a>
                                    <p class="txt">
                                        <i class="fa fa-eye"></i> 65&nbsp;&nbsp;
                                        <i class="fa fa-thumbs-o-up"></i> 44 &nbsp;&nbsp;
                                        <i class="fa fa-comments"></i> 23 &nbsp;&nbsp;
                                        <i class="fa fa-calendar"></i>&nbsp;@string.Format("{0:MM/dd/yyyy}", item.Created)<br />
                                        <span style="text-align:center;"><i class="fa fa-user"></i> @item.UserName</span>
                                    </p>

                                </div>
                            </div>
                        </div>
                    </div>


                    <script>

                            $('#box16-@item.ArticleId').hover(function (a) {
                                $('#fulltitle-@item.ArticleId').fadeIn(200);
                                $('#firstLine-@item.ArticleId').fadeIn(200);
                                $('#smalltitle-@item.ArticleId').hide();
                    //alert('test');
                }, function () {
                    $('#fulltitle-@item.ArticleId').hide();
                    $('#firstLine-@item.ArticleId').hide();
                                $('#smalltitle-@item.ArticleId').fadeIn(200);
                });

                    </script>
                }

            }

        </div>
    </div>



</section>
<!-- End Section -->
<script>

    $(document).ready(function () {

        $('#divGrid').css('width', '100%');
        $('#divGrid').css('height', '100%');
        //$('#divGrid').css('position', 'relative');
        //$('#divGrid').css('left', '0px');
        //$('#divGrid').css('top', '0px');
    });
</script>
